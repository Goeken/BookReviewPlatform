<div class="container">
    <h1 class="text-center mb-4">Books</h1>
    <div class="row">
        <div class="col-md-6 offset-md-3">
        <%= form_with url: books_path, method: :get, local: true, class: 'd-flex mb-4' do |form| %>
        <%= form.text_field :search, placeholder: "Search Books", class: 'form-control me-2' %>
        <%= form.submit 'Search', class: 'btn btn-primary' %>
        <% end %>
        </div class="col-md-4>
    </div>

    <div class="table-responsive">
    <table class="table table-striped table-hover align-middle">
        <thead class="table-primary">
        <tr>
            <th scope="col">Title</th>
            <th scope="col">Author</th>
            <th scope="col">Average Rating</th>
            <th scope="col">ISBN</th>
            <th scope="col" class="text-end">Actions</th>
        </tr>
        </thead>
        <tbody>
        <% @books.each do |book| %>
            <tr>
            <td><%= link_to book.title, book_path(book), class: 'text-decoration-none text-dark' %></td>
            <td><%= book.author %></td>
            <td><%= book.average_rating || 'No ratings yet' %></td>
            <td><%= book.isbn %></td>
            <td class="text-end">
                <%= link_to 'View', book_path(book), class: 'btn btn-outline-primary btn-sm rounded-btn' %>
            </td>
            </tr>
        <% end %>
        </tbody>
    </table>
    </div>

    <%= paginate @books %>
</div>